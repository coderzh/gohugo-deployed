<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Data-driven content with a static site generator? Yes, it is possible!
In addition to the data files feature, we have also implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load any JSON or CSV file from nearly any resource.
&ldquo;Data-driven Content&rdquo; currently consists of two functions, getJSON and getCSV, which are available in all template files.
Implementation details Calling the functions with an URL In any HTML template or Markdown document, call the functions like this:">
        <link rel="alternate" href="https://www.gohugo.org/feed.xml" type="application/rss+xml" title="Hugo中文文档">
        <link rel="icon" href="https://www.gohugo.org/favicon.ico">
        <title>Data-driven Content - Hugo中文文档</title>
        <link rel="stylesheet" href="https://www.gohugo.org/css/highlight.js.min.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/bootstrap-theme.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/font-awesome/css/font-awesome.min.css" />
        
        <link rel="stylesheet" href="https://www.gohugo.org/css/hugo-org.css">
    </head>

<body role="document">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://www.gohugo.org/">Hugo中文文档</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="https://www.gohugo.org/">主页</a></li>
                    
                    
                    <li ><a href="https://www.gohugo.org/post/">文章列表</a></li>
                    
                    <li ><a href="https://www.gohugo.org/theme/">皮肤列表</a></li>
                    
                    <li ><a href="https://www.gohugo.org/showcase/">示例网站</a></li>
                    
                    <li ><a href="https://www.gohugo.org/donate/">关于</a></li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">常用链接<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                            <li><a href="https://github.com/spf13/hugo">官方GitHub</a></li>
                        
                            <li><a href="https://github.com/coderzh/gohugo.org">本站GitHub</a></li>
                        
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">官方文档<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                            <li><a href="https://gohugo.io/overview/introduction/">英文文档</a></li>
                        
                            <li><a href="https://www.gohugo.org/doc/">中文文档</a></li>
                        
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



<div class="container-fluid">

<div class="row">
    <div class="col-xs-12 col-sm-3">
        
<aside>
    <div class="well">
        
        <div class="pull-right">Hugo v0.15.0(翻译中...)</div>
        <ul class="nav nav-list">
            
            
            
            <li>
                <label class="tree-toggle nav-header">快速开始</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/introduction/">Introduction</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/quickstart/">Quickstart</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/installing/">Installing Hugo</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/usage/">Using Hugo</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/configuration/">Configuration</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/source-directory/">Source Organization</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">Hugo命令</label>
                <ul class="nav nav-list">
                    <li>
                        <a href="https://www.gohugo.org/doc/commands/">Hugo命令</a>
                    </li>
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">内容(Content)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/organization/">Organization</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/supported-formats/">Supported Formats</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/front-matter/">Front Matter</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/sections/">Sections</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/types/">Types</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/archetypes/">Archetypes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/summaries/">Summaries</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/example/">Example</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">皮肤(Themes)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/overview/">Themes Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/installing/">Installing Themes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/usage/">Using a Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/customizing/">Customizing a Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/creation/">Creating a Theme</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">模板(Templates)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/go-templates/">Go Template Primer</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/ace/">Ace templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/amber/">Amber templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/functions/">Functions</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/variables/">Variables</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/content/">Single Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/list/">List of Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/homepage/">Homepage</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/terms/">Taxonomy Terms</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/views/">Content Views</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/partials/">Partial Templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/rss/">RSS</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/sitemap/">Sitemap</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/404/">Custom 404 page</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/debugging/">Debugging</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">分类(Taxonomies)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/usage/">Usage</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/displaying/">Displaying</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/templates/">Templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/methods/">Structure &amp; Methods</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">其他</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/aliases/">Aliases</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/analytics/">Analytics</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/builders/">Builders</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/comments/">Comments</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/crossreferences/">Cross-References</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/livereload/">LiveReload</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/menus/">Menus</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/permalinks/">Permalinks</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/pagination/">Pagination</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/scratch/">Scratch</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/shortcodes/">Shortcodes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/datafiles/">Data Files</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/highlighting/">Syntax Highlighting</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/datadrivencontent/">Data-driven Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/toc/">Table of Contents</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/localfiles/">Traversing Local Files</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/urls/">URLs</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">工具</label>
                <ul class="nav nav-list">
                    <li>
                        <a href="https://www.gohugo.org/doc/tools/">工具</a>
                    </li>
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">社区</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/community/mailing-list/">Mailing List</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/community/contributing/">Contributing to Hugo</a>
                    </li>
                    
                    <li>
                        <a href="http://discuss.gohugo.io">讨论社区</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">指南</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/automated-deployments/">Automated deployments</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/creating-a-new-theme/">Creating a New Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/github-pages-blog/">Hosting on GitHub</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/installing-on-mac/">Installing on Mac</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/installing-on-windows/">Installing on Windows</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/mathjax/">MathJax Support</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/migrate-from-jekyll/">Migrating from Jekyll</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/create-a-multilingual-site/">Multilingual Site</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">常见问题</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/strange-eof-error/">Strange EOF error</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/categories-with-accented-characters/">Accented Categories</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/overview/">Troubleshooting Overview</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">关于Hugo</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/release-notes/">Release Notes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/roadmap/">Hugo Roadmap</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/license/">License</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
              
            <li>
                <a href="https://github.com/coderzh/gohugo.org/edit/master/content/doc/extras/datadrivencontent_en.md" target="blank">
                <i class='fa fa-edit'></i>修改此文章</a>
            </li>
            
            
        </ul>
    </div>
</aside>


    </div>
    <div class="col-xs-12 col-sm-9 doc-main">
        <main role="main">
            <article>
                <a id="title"></a>
                <h1 class="doc-entry-title">Data-driven Content</h1>
                <section>
                    

<p>Data-driven content with a static site generator? Yes, it is possible!</p>

<p>In addition to the <a href="https://www.gohugo.org/doc/extras/datafiles/">data files</a> feature, we have also
implemented the feature &ldquo;Data-driven Content&rdquo;, which lets you load
any <a href="http://www.json.org/">JSON</a> or
<a href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> file
from nearly any resource.</p>

<p>&ldquo;Data-driven Content&rdquo; currently consists of two functions, <code>getJSON</code>
and <code>getCSV</code>, which are available in <strong>all template files</strong>.</p>

<h2 id="implementation-details">Implementation details</h2>

<h3 id="calling-the-functions-with-an-url">Calling the functions with an URL</h3>

<p>In any HTML template or Markdown document, call the functions like this:</p>

<pre><code>{{ $dataJ := getJSON &quot;url&quot; }}
{{ $dataC := getCSV &quot;separator&quot; &quot;url&quot; }}
</code></pre>

<p>or, if you use a prefix or postfix for the URL, the functions
accept <a href="http://en.wikipedia.org/wiki/Variadic_function">variadic arguments</a>:</p>

<pre><code>{{ $dataJ := getJSON &quot;url prefix&quot; &quot;arg1&quot; &quot;arg2&quot; &quot;arg n&quot; }}
{{ $dataC := getCSV  &quot;separator&quot; &quot;url prefix&quot; &quot;arg1&quot; &quot;arg2&quot; &quot;arg n&quot; }}
</code></pre>

<p>The separator for <code>getCSV</code> must be put in the first position and can only
be one character long.</p>

<p>All passed arguments will be joined to the final URL; for example:</p>

<pre><code>{{ $urlPre := &quot;https://api.github.com&quot; }}
{{ $gistJ := getJSON $urlPre &quot;/users/GITHUB_USERNAME/gists&quot; }}
</code></pre>

<p>will resolve internally to:</p>

<pre><code>{{ $gistJ := getJSON &quot;https://api.github.com/users/GITHUB_USERNAME/gists&quot; }}
</code></pre>

<p>Finally, you can range over an array. This example will output the
first 5 gists for a GitHub user:</p>

<pre><code>&lt;ul&gt;
  {{ $urlPre := &quot;https://api.github.com&quot; }}
  {{ $gistJ := getJSON $urlPre &quot;/users/GITHUB_USERNAME/gists&quot; }}
  {{ range first 5 $gistJ }}
    {{ if .public }}
      &lt;li&gt;&lt;a href=&quot;{{ .html_url }}&quot; target=&quot;_blank&quot;&gt;{{ .description }}&lt;/a&gt;&lt;/li&gt;
    {{ end }}
  {{ end }}
&lt;/ul&gt;
</code></pre>

<h3 id="example-for-csv-files">Example for CSV files</h3>

<p>For <code>getCSV</code>, the one-character long separator must be placed in the
first position followed by the URL.</p>

<pre><code>&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
    &lt;th&gt;Name&lt;/th&gt;
    &lt;th&gt;Position&lt;/th&gt;
    &lt;th&gt;Salary&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
  {{ $url := &quot;http://a-big-corp.com/finance/employee-salaries.csv&quot; }}
  {{ $sep := &quot;,&quot; }}
  {{ range $i, $r := getCSV $sep $url }}
    &lt;tr&gt;
      &lt;td&gt;{{ index $r 0 }}&lt;/td&gt;
      &lt;td&gt;{{ index $r 1 }}&lt;/td&gt;
      &lt;td&gt;{{ index $r 2 }}&lt;/td&gt;
    &lt;/tr&gt;
  {{ end }}
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p>The expression <code>{{index $r number}}</code> must be used to output the nth-column from
the current row.</p>

<h3 id="caching-of-urls">Caching of URLs</h3>

<p>Each downloaded URL will be cached in the default folder <code>$TMPDIR/hugo_cache/</code>.
The variable <code>$TMPDIR</code> will be resolved to your system-dependent
temporary directory.</p>

<p>With the command-line flag <code>--cacheDir</code>, you can specify any folder on
your system as a caching directory.</p>

<p>If you don&rsquo;t like caching at all, you can fully disable to read from the
cache with the command line flag <code>--ignoreCache</code>. However, Hugo will always
write, on each build of the site, to the cache folder (silent backup).</p>

<h3 id="authentication-when-using-rest-urls">Authentication when using REST URLs</h3>

<p>Currently, you can only use those authentication methods that can
be put into an URL. <a href="http://en.wikipedia.org/wiki/OAuth">OAuth</a> or
other authentication methods are not implemented.</p>

<h3 id="loading-local-files">Loading local files</h3>

<p>To load local files with the two functions <code>getJSON</code> and <code>getCSV</code>, the
source files must reside within Hugo&rsquo;s working directory. The file
extension does not matter but the content.</p>

<p>It applies the same output logic as in the topic: <em>Calling the functions with an URL</em>.</p>

<h2 id="livereload">LiveReload</h2>

<p>There is no chance to trigger a <a href="https://www.gohugo.org/doc/extras/livereload/">LiveReload</a> when
the content of an URL changes. However, when a local JSON/CSV file changes,
then a LiveReload will be triggered of course. Symlinks not supported.</p>

<p><strong>URLs and LiveReload</strong>: If you change any local file and the LiveReload
got triggered, Hugo will either read the URL content from the cache or, if
you have disabled the cache, Hugo will re-download the content.
This can create huge traffic and you may also reach API limits quickly.</p>

<p>As downloading of content takes a while, Hugo stops with processing
your Markdown files until the content has been downloaded.</p>

<h2 id="examples">Examples</h2>

<ul>
<li>Photo gallery JSON powered: <a href="https://github.com/pcdummy/hugo-lightslider-example">https://github.com/pcdummy/hugo-lightslider-example</a></li>
<li>GitHub Starred Repositories <a href="https://github.com/SchumacherFM/blog-cs/blob/master/content%2Fposts%2Fgithub-starred.md">in a posts</a> with the related <a href="https://github.com/SchumacherFM/blog-cs/blob/master/layouts%2Fshortcodes%2FghStarred.html">short code</a>.</li>
<li>More?  Please tell us!</li>
</ul>

                </section>
            </article>
        </main>
        <br />
        
        <div class="row">
            <div class="col-xs-6 col-sm-6 text-center">
                
                <a href="https://www.gohugo.org/doc/extras/datafiles">&lt; 上一篇</a>
                
            </div>
            <div class="col-xs-6 col-sm-6 text-center">
                
                <a href="https://www.gohugo.org/doc/extras/highlighting">下一篇 &gt;</a>
                
            </div>
        </div>
        
    </div> 
</div>



<hr />

<div class="row">
    <div class="col-sm-12">
        
	    <div class="text-center">
        
		    <p class="doc-footer-em"><a href="#">回到顶部↑</a></p>
	    </div>
	</div>
</div>

</div> 

<footer class="doc-footer">
	
    <p>Copyright © <a href="https://blog.coderzh.com/">CoderZh</a> 2015. Generated by <a href="http://gohugo.io/">Hugo</a></p>
</footer>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-10147768-3', 'auto');
	ga('send', 'pageview');
</script>

<script src="https://www.gohugo.org/js/jquery-1.11.2.min.js"></script>
<script src="https://www.gohugo.org/js/bootstrap.min.js"></script>

<script src="https://www.gohugo.org/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://www.gohugo.org/js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>

