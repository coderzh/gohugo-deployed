<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="In addition to the built-in variables available from Hugo, you can specify your own custom data that can be accessed via templates or shortcodes.
Hugo supports loading data from YAML, JSON, and TOML files located in the data directory.
It even works with LiveReload.
Data Files can also be used in themes, but note: If the same key is used in both the main data folder and in the theme&rsquo;s data folder, the main one will win.">
        <link rel="alternate" href="https://www.gohugo.org/feed.xml" type="application/rss+xml" title="Hugo中文文档">
        <link rel="icon" href="https://www.gohugo.org/favicon.ico">
        <title>Data Files - Hugo中文文档</title>
        <link rel="stylesheet" href="https://www.gohugo.org/css/highlight.js.min.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/bootstrap-theme.css">
        <link rel="stylesheet" href="https://www.gohugo.org/css/font-awesome/css/font-awesome.min.css" />
        
        <link rel="stylesheet" href="https://www.gohugo.org/css/hugo-org.css">
    </head>

<body role="document">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://www.gohugo.org/">Hugo中文文档</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="https://www.gohugo.org/">主页</a></li>
                    
                    
                    <li ><a href="https://www.gohugo.org/post/">文章列表</a></li>
                    
                    <li ><a href="https://www.gohugo.org/theme/">皮肤列表</a></li>
                    
                    <li ><a href="https://www.gohugo.org/showcase/">示例网站</a></li>
                    
                    <li ><a href="https://www.gohugo.org/donate/">关于</a></li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">常用链接<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                            <li><a href="https://github.com/spf13/hugo">官方GitHub</a></li>
                        
                            <li><a href="https://github.com/coderzh/gohugo.org">本站GitHub</a></li>
                        
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">官方文档<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                        
                            <li><a href="https://gohugo.io/overview/introduction/">英文文档</a></li>
                        
                            <li><a href="https://www.gohugo.org/doc/">中文文档</a></li>
                        
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



<div class="container-fluid">

<div class="row">
    <div class="col-xs-12 col-sm-3">
        
<aside>
    <div class="well">
        
        <div class="pull-right">Hugo v0.15.0(翻译中...)</div>
        <ul class="nav nav-list">
            
            
            
            <li>
                <label class="tree-toggle nav-header">快速开始</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/introduction/">Introduction</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/quickstart/">Quickstart</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/installing/">Installing Hugo</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/usage/">Using Hugo</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/configuration/">Configuration</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/overview/source-directory/">Source Organization</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">Hugo命令</label>
                <ul class="nav nav-list">
                    <li>
                        <a href="https://www.gohugo.org/doc/commands/">Hugo命令</a>
                    </li>
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">内容(Content)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/organization/">Organization</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/supported-formats/">Supported Formats</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/front-matter/">Front Matter</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/sections/">Sections</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/types/">Types</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/archetypes/">Archetypes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/summaries/">Summaries</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/content/example/">Example</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">皮肤(Themes)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/overview/">Themes Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/installing/">Installing Themes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/usage/">Using a Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/customizing/">Customizing a Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/themes/creation/">Creating a Theme</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">模板(Templates)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/go-templates/">Go Template Primer</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/ace/">Ace templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/amber/">Amber templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/functions/">Functions</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/variables/">Variables</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/content/">Single Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/list/">List of Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/homepage/">Homepage</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/terms/">Taxonomy Terms</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/views/">Content Views</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/partials/">Partial Templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/rss/">RSS</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/sitemap/">Sitemap</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/404/">Custom 404 page</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/templates/debugging/">Debugging</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">分类(Taxonomies)</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/overview/">Overview</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/usage/">Usage</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/displaying/">Displaying</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/templates/">Templates</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/ordering/">Ordering</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/taxonomies/methods/">Structure &amp; Methods</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">其他</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/aliases/">Aliases</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/analytics/">Analytics</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/builders/">Builders</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/comments/">Comments</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/crossreferences/">Cross-References</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/livereload/">LiveReload</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/menus/">Menus</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/permalinks/">Permalinks</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/pagination/">Pagination</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/scratch/">Scratch</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/shortcodes/">Shortcodes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/datafiles/">Data Files</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/highlighting/">Syntax Highlighting</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/datadrivencontent/">Data-driven Content</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/toc/">Table of Contents</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/localfiles/">Traversing Local Files</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/extras/urls/">URLs</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">工具</label>
                <ul class="nav nav-list">
                    <li>
                        <a href="https://www.gohugo.org/doc/tools/">工具</a>
                    </li>
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">社区</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/community/mailing-list/">Mailing List</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/community/contributing/">Contributing to Hugo</a>
                    </li>
                    
                    <li>
                        <a href="http://discuss.gohugo.io">讨论社区</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">指南</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/automated-deployments/">Automated deployments</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/creating-a-new-theme/">Creating a New Theme</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/github-pages-blog/">Hosting on GitHub</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/installing-on-mac/">Installing on Mac</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/installing-on-windows/">Installing on Windows</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/mathjax/">MathJax Support</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/migrate-from-jekyll/">Migrating from Jekyll</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/tutorials/create-a-multilingual-site/">Multilingual Site</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">常见问题</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/strange-eof-error/">Strange EOF error</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/categories-with-accented-characters/">Accented Categories</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/troubleshooting/overview/">Troubleshooting Overview</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
            <li>
                <label class="tree-toggle nav-header">关于Hugo</label>
                <ul class="nav nav-list">
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/release-notes/">Release Notes</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/roadmap/">Hugo Roadmap</a>
                    </li>
                    
                    <li>
                        <a href="https://www.gohugo.org/doc/meta/license/">License</a>
                    </li>
                    
                </ul>
            
            </li>
            
            
              
            <li>
                <a href="https://github.com/coderzh/gohugo.org/edit/master/content/doc/extras/datafiles_en.md" target="blank">
                <i class='fa fa-edit'></i>修改此文章</a>
            </li>
            
            
        </ul>
    </div>
</aside>


    </div>
    <div class="col-xs-12 col-sm-9 doc-main">
        <main role="main">
            <article>
                <a id="title"></a>
                <h1 class="doc-entry-title">Data Files</h1>
                <section>
                    

<p>In addition to the <a href="https://www.gohugo.org/doc/templates/variables/">built-in variables</a> available from Hugo, you can specify your own custom data that can be accessed via templates or shortcodes.</p>

<p>Hugo supports loading data from <a href="http://yaml.org/">YAML</a>, <a href="http://www.json.org/">JSON</a>, and <a href="https://github.com/toml-lang/toml">TOML</a> files located in the <code>data</code> directory.</p>

<p><strong>It even works with <a href="https://www.gohugo.org/doc/extras/livereload/">LiveReload</a>.</strong></p>

<p>Data Files can also be used in <a href="https://www.gohugo.org/doc/themes/overview/">themes</a>, but note: If the same <code>key</code> is used in both the main data folder and in the theme&rsquo;s data folder, the main one will win. So, for theme authors,  for theme specific data items that shouldn&rsquo;t be overridden, it can be wise to prefix the folder structure with a namespace, e.g. <code>mytheme/data/mytheme/somekey/...</code>. To check if any such duplicate exists, run hugo with the <code>-v</code> flag, e.g. <code>hugo -v</code>.</p>

<h2 id="the-data-folder">The Data Folder</h2>

<p>As explained in <a href="https://www.gohugo.org/doc/overview/source-directory/">Source Organization</a>, the <code>data</code> folder is where you can store additional data for Hugo to use when generating your site. These files must be YAML, JSON or TOML files (using either the <code>.yml</code>, <code>.yaml</code>, <code>.json</code> or <code>toml</code> extension) and the data will be accessible as a <code>map</code> in <code>.Site.Data</code>.</p>

<p><strong>The keys in this map will be a dot chained set of <em>path</em>, <em>filename</em> and <em>key</em> in file (if applicable).</strong></p>

<p>This is best explained with an example:</p>

<h2 id="example-jaco-pastorius-solo-discography">Example: Jaco Pastorius&rsquo; Solo Discography</h2>

<p><a href="http://en.wikipedia.org/wiki/Jaco_Pastorius_discography">Jaco Pastorius</a> was a great bass player, but his solo discography is short enough to use as an example. <a href="http://en.wikipedia.org/wiki/John_Patitucci">John Patitucci</a> is another bass giant.</p>

<p>The example below is a bit constructed, but it illustrates the flexibility of Data Files. It uses TOML as file format.</p>

<p>Given the files:</p>

<ul>
<li><code>data/jazz/bass/jacopastorius.toml</code></li>
<li><code>data/jazz/bass/johnpatitucci.toml</code></li>
</ul>

<p><code>jacopastorius.toml</code> contains the content below, <code>johnpatitucci.toml</code> contains a similar list:</p>

<pre><code>discography = [
&quot;1974 – Modern American Music … Period! The Criteria Sessions&quot;,
&quot;1974 – Jaco&quot;,
&quot;1976 - Jaco Pastorius&quot;,
&quot;1981 - Word of Mouth&quot;,
&quot;1981 - The Birthday Concert (released in 1995)&quot;,
&quot;1982 - Twins I &amp; II (released in 1999)&quot;,
&quot;1983 - Invitation&quot;,
&quot;1986 - Broadway Blues (released in 1998)&quot;,
&quot;1986 - Honestly Solo Live (released in 1990)&quot;,
&quot;1986 - Live In Italy (released in 1991)&quot;,
&quot;1986 - Heavy'n Jazz (released in 1992)&quot;,
&quot;1991 - Live In New York City, Volumes 1-7.&quot;,
&quot;1999 - Rare Collection (compilation)&quot;,
&quot;2003 - Punk Jazz: The Jaco Pastorius Anthology (compilation)&quot;,
&quot;2007 - The Essential Jaco Pastorius (compilation)&quot;
]
</code></pre>

<p>The list of bass players can be accessed via <code>.Site.Data.jazz.bass</code>, a single bass player by adding the filename without the suffix, e.g. <code>.Site.Data.jazz.bass.jacopastorius</code>.</p>

<p>You can now render the list of recordings for all the bass players in a template:</p>

<pre><code>{{ range $.Site.Data.jazz.bass }}
   {{ partial &quot;artist.html&quot; . }}
{{ end }}
</code></pre>

<p>And then in <code>partial/artist.html</code>:</p>

<pre><code>&lt;ul&gt;
{{ range .discography }}
  &lt;li&gt;{{ . }}&lt;/li&gt;
{{ end }}
&lt;/ul&gt;
</code></pre>

<p>Discover a new favourite bass player? Just add another TOML-file.</p>

<h2 id="example-accessing-named-values-in-a-data-file">Example: Accessing named values in a Data File</h2>

<p>Assuming you have the following YAML structure to your <code>User0123.yml</code> Data File located directly in <code>data/</code></p>

<pre><code>Name: User0123
&quot;Short Description&quot;: &quot;He is a **jolly good** fellow.&quot;
Achievements:
  - &quot;Can create a Key, Value list from Data File&quot;
  - &quot;Learns Hugo&quot;
  - &quot;Reads documentation&quot;
</code></pre>

<p>To render the <code>Short Description</code> in your <code>layout</code> File following code is required.</p>

<pre><code>&lt;div&gt;Short Description of {{.Site.Data.User0123.Name}}: &lt;p&gt;{{ index .Site.Data.User0123 &quot;Short Description&quot; | markdownify }}&lt;/p&gt;&lt;/div&gt;
</code></pre>

<p>Note the use of the <code>markdownify</code> template function. This will send the description through the Blackfriday Markdown rendering engine.</p>

                </section>
            </article>
        </main>
        <br />
        
        <div class="row">
            <div class="col-xs-6 col-sm-6 text-center">
                
                <a href="https://www.gohugo.org/doc/extras/scratch">&lt; 上一篇</a>
                
            </div>
            <div class="col-xs-6 col-sm-6 text-center">
                
                <a href="https://www.gohugo.org/doc/extras/datadrivencontent">下一篇 &gt;</a>
                
            </div>
        </div>
        
    </div> 
</div>



<hr />

<div class="row">
    <div class="col-sm-12">
        
	    <div class="text-center">
        
		    <p class="doc-footer-em"><a href="#">回到顶部↑</a></p>
	    </div>
	</div>
</div>

</div> 

<footer class="doc-footer">
	
    <p>Copyright © <a href="https://blog.coderzh.com/">CoderZh</a> 2015. Generated by <a href="http://gohugo.io/">Hugo</a></p>
</footer>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-10147768-3', 'auto');
	ga('send', 'pageview');
</script>

<script src="https://www.gohugo.org/js/jquery-1.11.2.min.js"></script>
<script src="https://www.gohugo.org/js/bootstrap.min.js"></script>

<script src="https://www.gohugo.org/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://www.gohugo.org/js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>

